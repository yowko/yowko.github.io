<!doctype html><html lang=zh-tw><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>讓 IIS EXPRESS 的網站允許外部連接(allow remote access) - Yowko&#39;s Notes</title><meta name=google-site-verification content=DvajWUA2XrtSgjsnGxXQKihwijBDiTFw9g7cxFY-Ivk><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content="Yowko Tsai"><meta name=description content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access) 讓 IIS EXPRESS 的網站可以被對本機以外提供服務 前端、行動裝置再加上愈來愈多的 IOT 相關應用出現，後端工程師最大的功"><meta name=keywords content=yowko,.net,blog><meta name=generator content="Hugo 0.56.3"><meta name=msvalidate.01 content=FA1ADBDB8F0BBBD0F7F4E65CDEBF7898><link rel=canonical href=https://blog.yowko.com/iis-express-allow-external-access/><link rel=apple-touch-icon sizes=180x180 href=https://blog.yowko.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://blog.yowko.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://blog.yowko.com/favicon-16x16.png><link rel=manifest href=https://blog.yowko.com/manifest.json><link rel=mask-icon href=https://blog.yowko.com/safari-pinned-tab.svg color=#5bbad5><link href="https://blog.yowko.com/dist/even.min.css?v=3.2.0" rel=stylesheet><link href=https://blog.yowko.com/lib/fancybox/jquery.fancybox-3.1.20.min.css rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous><meta property=og:title content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access)"><meta property=og:description content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access) 讓 IIS EXPRESS 的網站可以被對本機以外提供服務 前端、行動裝置再加上愈來愈多的 IOT 相關應用出現，後端工程師最大的功"><meta property=og:type content=article><meta property=og:url content=https://blog.yowko.com/iis-express-allow-external-access/><meta property=article:published_time content=2016-12-09T00:42:34+08:00><meta property=article:modified_time content=2021-11-02T00:42:34+08:00><meta itemprop=name content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access)"><meta itemprop=description content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access) 讓 IIS EXPRESS 的網站可以被對本機以外提供服務 前端、行動裝置再加上愈來愈多的 IOT 相關應用出現，後端工程師最大的功"><meta itemprop=datePublished content=2016-12-09T00:42:34&#43;08:00><meta itemprop=dateModified content=2021-11-02T00:42:34&#43;08:00><meta itemprop=wordCount content=664><meta itemprop=keywords content="IIS Express,"><meta name=twitter:card content=summary><meta name=twitter:title content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access)"><meta name=twitter:description content="讓 IIS EXPRESS 的網站允許外部連接(allow remote access) 讓 IIS EXPRESS 的網站可以被對本機以外提供服務 前端、行動裝置再加上愈來愈多的 IOT 相關應用出現，後端工程師最大的功"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><link href=https://blog.yowko.com/opensearch.xml rel=search title="Content search" type=application/opensearchdescription+xml></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=https://blog.yowko.com/ class=logo>Yowko&#39;s Notes</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=https://blog.yowko.com/><li class=mobile-menu-item>首頁</li></a><a href=https://blog.yowko.com/post/><li class=mobile-menu-item>歷史筆記</li></a><a href=https://blog.yowko.com/tags/><li class=mobile-menu-item>內容標籤</li></a><a href=https://blog.yowko.com/search><li class=mobile-menu-item>站內搜尋</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header style=height:118px;padding-bottom:0><div class=logo-wrapper><a href=https://blog.yowko.com/ class=logo>Yowko&#39;s Notes</a></div><div style=padding-bottom:60px></div></nav><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://blog.yowko.com/>首頁</a></li><li class=menu-item><a class=menu-item-link href=https://blog.yowko.com/post/>歷史筆記</a></li><li class=menu-item><a class=menu-item-link href=https://blog.yowko.com/tags/>內容標籤</a></li><li class=menu-item><a class=menu-item-link href=https://blog.yowko.com/search>站內搜尋</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><hr style="border-top:1px solid #e6e6e6;border-bottom:0;padding:0"><div id=content class=content><article class=post><header class=post-header><div class=post-meta><span class=post-time>2016-12-09</span>
<span class=more-meta>約 664 字</span>
<span class=more-meta>預計閱讀 2 分鐘</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目錄</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#讓-iis-express-的網站允許外部連接-allow-remote-access>讓 IIS EXPRESS 的網站允許外部連接(allow remote access)</a></li><li><a href=#設定-http-sys-hypertext-transfer-protocol-stack>設定 HTTP.sys (Hypertext Transfer Protocol Stack )</a></li><li><a href=#修改-iis-express-設定>修改 <code>IIS EXPRESS</code> 設定</a></li><li><a href=#開放防火牆的特定連接埠-port>開放防火牆的特定連接埠(port)</a></li><li><a href=#效果>效果</a></li><li><a href=#參考資料>參考資料</a></li></ul></li></ul></nav></div></div><div class=post-content><h2 id=讓-iis-express-的網站允許外部連接-allow-remote-access>讓 IIS EXPRESS 的網站允許外部連接(allow remote access)</h2><p>讓 IIS EXPRESS 的網站可以被對本機以外提供服務</p><p>前端、行動裝置再加上愈來愈多的 IOT 相關應用出現，後端工程師最大的功能大概就是提供 API 了吧(^^||)
透過將開發用的 IIS EXPRESS 直接用來驗證結果是否合乎預期，就能減少頻繁地部署程式到實體 IIS 上的時間跟動作，又可以查更多bug(大誤)</p><p>利用這樣的方式讓在同網段的其他裝置可以直接連進來，甚至還可以直接 attach IIS EXPRESS 進行 debug，聽起來是不是很誘人？！</p><p>btw：這適合開發人員自行測試 debug 用，如果要跟其他裝置整合還是應該透過 IIS 部署</p><h2 id=設定-http-sys-hypertext-transfer-protocol-stack>設定 HTTP.sys (Hypertext Transfer Protocol Stack )</h2><blockquote><p>Note: 關於 <code>HTTP.sys</code></p><ul><li>IIS 6 時開始用來取代 Windows Sockets API</li><li>HTTP.SYS 是 IIS 的核心元件，用來處理 Http request</li><li>在 IIS 建立新應用程式集區(application pool)時，會自動在 <code>http.sys</code> 註冊集區以用來識別.</li></ul></blockquote><ol><li><p>以管理者身份開啟命令提示字元(<code>command line</code>)</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/377x256/d5f3403d2adf9fa5eea5f66fbdd676cf/commandline_win10_%E7%BB%93%E6%9E%9C.png alt=cmd></p></li><li><p>取得<code>本機內網 ip</code></p><ul><li><p>ipconfig</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/855x196/1a5927d40ba782da8e4a340f6bef17e7/localip_%E7%BB%93%E6%9E%9C.png alt=ip></p></li></ul></li><li><p>取得 <code>IIS EXPRESS 站台 PORT</code></p><ul><li><p>方法1:專案設定</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1200x534/b53efbbdcae6cceaf9eafe62b85d41dc/port2_%E7%BB%93%E6%9E%9C.png alt=port2></p></li><li><p>方法2:IIS EXPRESS 快顯視窗中</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/454x153/fb472d9acf3f9ae891dca7dda4a55229/port_%E7%BB%93%E6%9E%9C.png alt=port1></p></li></ul></li><li><p>使用 <code>netsh</code> 以<code>本機 IP</code> 及 <code>站台 port</code> 加入 URL 保留區(access control list)</p><pre><code class=language-cmd>netsh http add urlacl url=http://192.168.31.102:10777/ user=everyone
</code></pre><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/988x651/03619f68b409c9169c250b41cd0861f8/added_%E7%BB%93%E6%9E%9C.png alt=added></p></li><li><p>檢查設定(optional)</p><pre><code class=language-cmd>netsh http show urlacl
</code></pre></li></ol><ul><li><p>刪除設定(if need)</p><blockquote><p>如果已經測試完畢，才需要進行刪除</p></blockquote><pre><code class=language-cmd>netsh http delete urlacl url=http://192.168.31.102:10777/
</code></pre></li></ul><h2 id=修改-iis-express-設定>修改 <code>IIS EXPRESS</code> 設定</h2><ol><li><p>IISEXPRESS 8.X (VS 2013) 以前</p><pre><code class=language-cmd>%USERPROFILE%\Documents\iisexpress\config\applicationhost.config
</code></pre></li><li><p>IIS Express 10(VS 2015)</p><blockquote><p>改放在專案下的 <code>.vs\config</code> 資料夾中</p></blockquote><pre><code class=language-cmd>%USERPROFILE%\Documents\Visual Studio 2015\Projects\TestExceptional\.vs\config\applicationhost.config
</code></pre></li><li><p>加上 binding</p><blockquote><p>用 port 搜尋，複製現有的，把 <code>localhost</code> 改為 <code>本機內網 IP</code></p></blockquote><pre><code class=language-cmd>&lt;binding protocol=&quot;http&quot; bindingInformation=&quot;*:10777:192.168.31.102&quot; /&gt;
</code></pre><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1200x153/5f416fa4c798685e6023faf4e5e2ceae/binding_%E7%BB%93%E6%9E%9C.png alt=binding></p></li></ol><h2 id=開放防火牆的特定連接埠-port>開放防火牆的特定連接埠(port)</h2><ol><li><p><code>開始</code> 搜尋 <code>wf.msc</code>
<img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/518x870/30fe96e7eba4b7fc141808af1145c205/wf1_%E7%BB%93%E6%9E%9C.png alt=wf.msc></p></li><li><p>新增 <code>inbound</code> 規則</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1200x316/a9cc253b079013c62e96e664bf83b855/wf2_%E7%BB%93%E6%9E%9C.png alt=newrule></p></li><li><p>建立 <code>port</code> 規則</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1070x871/5195ba38d5ed3af81b5c617a946b1280/wf3_%E7%BB%93%E6%9E%9C.png alt=PORT></p></li><li><p>使用 <code>TCP</code> 及 <code>特定 port</code></p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1070x871/c94b260789f924452eeaedf47c9e8f64/wf4_%E7%BB%93%E6%9E%9C.png alt=TCP></p></li><li><p>選擇 <code>allow the connect</code></p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1070x871/1c13924829503fed0f04189c81c4d80c/wf5_%E7%BB%93%E6%9E%9C.png alt=ALLOW></p></li><li><p>預設即可</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1070x871/5aeb39f4e1a5afd515306b52eb6800ab/wf6_%E7%BB%93%E6%9E%9C.png alt=WHEN></p></li><li><p>建立規則名稱</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1070x871/aeb5d48450ae2e56b694bc92f2c80178/wf7_%E7%BB%93%E6%9E%9C.png alt=NAME></p></li></ol><h2 id=效果>效果</h2><ul><li><p>修改前(無法存取 IIS EXPRESS 站台)</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1003x659/3c885a15dfcf49cea3332155d360df17/cannot_%E7%BB%93%E6%9E%9C.png alt=cannotaccess></p></li><li><p>修改後(可以存取 IIS EXPRESS 站台)</p><p><img src=https://trello-attachments.s3.amazonaws.com/580596fb744dfbc732854015/1200x534/5af8d857e938fd2436132de04c8d59ca/ok_%E7%BB%93%E6%9E%9C.png alt=access></p></li></ul><h2 id=參考資料>參考資料</h2><ol><li><a href="https://msdn.microsoft.com/zh-tw/library/ms733768.aspx?WT.mc_id=DOP-MVP-5002594" target=_blank>MSDN http https</a></li><li><a href="https://msdn.microsoft.com/zh-tw/library/58wxa9w5%28v=vs.120%29.aspx?f=255&amp;MSPPError=-2147217396&amp;WT.mc_id=DOP-MVP-5002594" target=_blank>MSDN-IIS EXPRESS</a></li><li><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/cc307236.aspx?WT.mc_id=DOP-MVP-5002594" target=_blank>Nestsh commands for HTTP</a></li><li><a href=http://blog.kkbruce.net/2015/07/where-vs2015-iisexpress-10-applicationhostconfig.html target=_blank>VS2015的IISEXPRESS 10的APPLICATIONHOST.CONFIG置叨位</a></li><li><a href=http://bendetat.com/access-iis-express-from-another-machine.html target=_blank>Access IIS Express from another machine</a></li></ol></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>Yowko Tsai</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-11-02</span></p><p class=copyright-item><span class=item-title>授權合約</span>
<span class=item-content>本部落格 (<a href=//blog.yowko.com target=_blank>Yowko&#39;s Notes</a>) 所有的文章內容(包含圖片)，任何轉載行為，必須通知並獲本部落格作者 (<a href=mailto:yowko@yowko.com>Yowko Tsai</a>) 的同意始得轉載,且轉載皆須註明出處與作者。<br><br><div class=separator style=clear:both;text-align:center><a href=//i.creativecommons.org/l/by-nc-sa/3.0/tw/88x31.png imageanchor=1 style=margin-left:1em;margin-right:1em><img border=0 src=//i.creativecommons.org/l/by-nc-sa/3.0/tw/88x31.png></a></div><br>&nbsp;<a href=//blog.yowko.com target=_blank>Yowko&#39;s Notes</a> 由 <a href=https://www.facebook.com/yowko.tsai target=_blank>Yowko Tsai</a> 製作，以<a href=//creativecommons.org/licenses/by-nc-sa/3.0/tw/ target=_blank>創用CC 姓名標示-非商業性-相同方式分享 3.0 台灣 授權條款</a>&nbsp;釋出。</span></p></div><footer class=post-footer><div class=post-tags>標籤：
<a href=https://blog.yowko.com/tags/iis-express/>IIS Express</a></div><nav class=post-nav><div><a class=prev href=https://blog.yowko.com/aspnet-identity-use-username-login/ style=float:none><span class="next-text nav-mobile" style=display:inline-block>下一篇</span>
<i class="fas fa-arrow-circle-right"></i><span class="next-text nav-default">在 ASP.NET MVC 5 預設專案範本中透過 ASP.NET Identity 由 Email 改用 Username 登入</span></a></div><div><a class=prev href=https://blog.yowko.com/html-tab/ style=float:none><span class="prev-text nav-mobile" style=display:inline-block>上一篇</span>
<i class="fas fa-arrow-circle-left"></i><span class="prev-text nav-default">在網頁中按 tab 鍵，為什麼亂跳？！</span></a></div></nav></footer></article></div><script src=https://giscus.app/client.js data-repo=yowko/yowko.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxODA1MTU2MTE=" data-category=Announcements data-category-id=DIC_kwDOCsJzG84CW4SD data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-TW crossorigin=anonymous async></script></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:yowko@yowko.com class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/yowko/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/yowko class="iconfont icon-github" title=github></a><a href=https://blog.yowko.com/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 強力驅動</span>
<span class=division>|</span>
<span class=theme-info>主題 -
<a class=theme-link href=https://github.com/huanlin/hugo-theme-even-more>Even More</a></span>
<span class=copyright-year>&copy;
2016 -
2024
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Yowko Tsai</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src="https://blog.yowko.com/lib/highlight/highlight.pack.js?v=20171001"></script><script type=text/javascript src=https://blog.yowko.com/lib/jquery/jquery-3.2.1.min.js></script><script type=text/javascript src=https://blog.yowko.com/lib/slideout/slideout-1.0.1.min.js></script><script type=text/javascript src=https://blog.yowko.com/lib/fancybox/jquery.fancybox-3.1.20.min.js></script><script type=text/javascript src=https://blog.yowko.com/lib/instantclick/instantclick-3.0.1.min.js data-no-instant></script><script type=text/javascript src="https://blog.yowko.com/dist/even.min.js?v=3.2.0"></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','G-7PF6W2W48Y','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>